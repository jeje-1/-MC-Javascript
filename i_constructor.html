<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        .note{
            border: 1px solid;
            min-height:300px;
        }
    </style>
        <script>
            let $ = function(cssSelector, message){
               
                let htmlElements = document.querySelectorAll(cssSelector);
    
                if(message){
                    htmlElements.forEach(e => {e.innerHTML += message + '<br>'});
                }
    
                return htmlElements;
           }
        </script>
    
</head>
<body>
    <h1>생성자</h1>
    <pre>
        * 생성자 함수는 그냥 함수이다.
    </pre>
    <div id="constructorNote" class="note"></div>
    <script>
        
        //Student 생성자 함수를 만들어보자.
        function Student(academy, name, kor, eng, math){
            
            this.academy = academy;
            this.name = name;
            this.kor = kor;
            this.eng = eng;
            this.math = math;
            
            this.getTotalScore = function(){
                return this.kor + this.eng + this.math;
            }
            
            //Object 객체의 toString 메서드를 오버라이드
            this.toString = function(){
                return `academy : ${this.academy}, name : ${name}, 총점 : ${this.getTotalScore()}`
                
            }
            
            //생성자 함수는 this를 반환하기 때문에 아래의 코드는 무시
            let age = 100;
            return age;
            
        }
        // new 생성자함수() 를 했을 때 생기는 일
        // 1. 빈 객체를 생성해 heap 영역에 올리고, 빈 객체의 주소를 생성자 함수 내의 this에 바인딩
        // 2. 생성자 함수 안에서 , this에 바인딩 된 객체에 소겅을 추가.
        // 3. 속성 추가가 끝나면 this를 return
        let gjw = new Student('mc', '경제원', 100, 100, 100);
        console.dir(gjw);
        $('#constructorNote', gjw);
        
        console.dir(Student())
    </script>
    
</body>
</html>